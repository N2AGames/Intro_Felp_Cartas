<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cartas Stream</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/cards.css">
    <!-- <script defer src="https://cloud.umami.is/script.js" data-website-id="58a7db19-b91d-48cf-b4ea-9ef0fd27a4c8"></script> -->
</head>
<body>
    <div id="pattern-layer" aria-hidden="true"></div>
    <canvas id="stars-canvas" aria-hidden="true"></canvas>
    <canvas id="smoke-canvas" aria-hidden="true"></canvas>
    <canvas id="ink-canvas" aria-hidden="true"></canvas>
    <canvas id="balatro-canvas" aria-hidden="true"></canvas>
    <canvas id="crt-canvas" aria-hidden="true"></canvas>
    <div class="c-1">
        <button id="toggle-chanel-info" class="toggle-button">‚ò∞</button>
        <div class="chanel-info" style="display: none;">
            <div class="control-panel" id="bg-panel" style="margin-top: 5vh;">
                <h3>Fondo</h3>
                <div class="control-row">
                    <label>Color fondo</label>
                </div>
                <div class="color-picker-custom">
                    <button class="color-btn" data-color="#37946e" style="background: #37946e;" title="Verde"></button>
                    <button class="color-btn" data-color="#1a1a2e" style="background: #1a1a2e;" title="Azul oscuro"></button>
                    <button class="color-btn" data-color="#16213e" style="background: #16213e;" title="Azul marino"></button>
                    <button class="color-btn" data-color="#0f3460" style="background: #0f3460;" title="Azul"></button>
                    <button class="color-btn" data-color="#533483" style="background: #533483;" title="Morado"></button>
                    <button class="color-btn" data-color="#2c2c54" style="background: #2c2c54;" title="Morado oscuro"></button>
                    <button class="color-btn" data-color="#3d3d3d" style="background: #3d3d3d;" title="Gris oscuro"></button>
                    <button class="color-btn" data-color="#000000" style="background: #000000;" title="Negro"></button>
                    <button class="color-btn" data-color="#b878c5ff" style="background: #b878c5ff;" title="Rosa"></button>
                    <button class="color-btn" data-color="#ffffffff" style="background: #ffffffff;" title="Blanco"></button>
                </div>
            </div>

            <div class="control-panel" id="stars-panel">
                <h3>Control de Estrellas</h3>
                <div class="control-row">
                    <label for="stars-toggle">Activo</label>
                    <input type="checkbox" id="stars-toggle" />
                </div>
                <div class="control-row">
                    <label for="stars-count">Cantidad</label>
                    <input type="range" id="stars-count" min="10" max="800" step="1" />
                    <span id="stars-count-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="stars-size">Tama√±o</label>
                    <input type="range" id="stars-size" min="1" max="12" step="1" />
                    <span id="stars-size-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="stars-twinkle">Parpadeo</label>
                    <input type="range" id="stars-twinkle" min="0.01" max="2" step="0.01" />
                    <span id="stars-twinkle-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="stars-bright">Brillo</label>
                    <input type="range" id="stars-bright" min="0" max="2" step="0.01" />
                    <span id="stars-bright-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="stars-hue">Color</label>
                    <input type="range" id="stars-hue" min="0" max="360" step="1" />
                    <span id="stars-hue-val" class="control-value"></span>
                </div>

                <div>
                    <button id="stars-reset" class="button">Restablecer</button>
                </div>
                <small class="control-note">Estrellas que iluminan el fondo (no afectan controles ni cartas).</small>
            </div>

            <div class="control-panel" id="smoke-panel">
                <h3>Efecto Humo</h3>
                <div class="control-row">
                    <label for="smoke-toggle">Activo</label>
                    <input type="checkbox" id="smoke-toggle" checked />
                </div>
                <div class="control-row">
                    <label for="smoke-speed">Velocidad</label>
                    <input type="range" id="smoke-speed" min="0.05" max="1.0" step="0.01" value="0.2" />
                    <span id="smoke-speed-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="smoke-opacity">Opacidad</label>
                    <input type="range" id="smoke-opacity" min="0" max="1" step="0.01" value="0.5" />
                    <span id="smoke-opacity-val" class="control-value"></span>
                </div>
                <div>
                    <button id="smoke-reset" class="button">Restablecer</button>
                </div>
            </div>

            <div class="control-panel" id="ink-panel">
                <h3>Efecto Tintas</h3>
                <div class="control-row">
                    <label for="ink-toggle">Activo</label>
                    <input type="checkbox" id="ink-toggle" />
                </div>
                <div class="control-row">
                    <label for="ink-speed">Velocidad</label>
                    <input type="range" id="ink-speed" min="0.05" max="1.0" step="0.01" value="0.3" />
                    <span id="ink-speed-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="ink-opacity">Opacidad</label>
                    <input type="range" id="ink-opacity" min="0" max="1" step="0.01" value="0.6" />
                    <span id="ink-opacity-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="ink-scale">Escala</label>
                    <input type="range" id="ink-scale" min="1" max="5" step="0.1" value="2.5" />
                    <span id="ink-scale-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="ink-color1">Color Tinta 1</label>
                    <input type="color" id="ink-color1" value="#8b3a8f" />
                </div>
                <div class="control-row">
                    <label for="ink-color2">Color Tinta 2</label>
                    <input type="color" id="ink-color2" value="#1e5a8e" />
                </div>
                <div>
                    <button id="ink-reset" class="button">Restablecer</button>
                </div>
            </div>

            <div class="control-panel" id="pattern-panel">
                <h3>Patr√≥n de Fondo</h3>
                <div class="control-row">
                    <label for="pattern-toggle">Activo</label>
                    <input type="checkbox" id="pattern-toggle"/>
                </div>
                <div class="control-row">
                    <label for="pattern-scale">Escala</label>
                    <input type="range" id="pattern-scale" min="8" max="120" step="1" />
                    <span id="pattern-scale-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="pattern-opacity">Opacidad</label>
                    <input type="range" id="pattern-opacity" min="0" max="1" step="0.01" />
                    <span id="pattern-opacity-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label>Estilo</label>
                </div>
                <div class="pattern-picker-custom">
                    <button class="pattern-btn" data-pattern="diagonal">Diagonal</button>
                    <button class="pattern-btn" data-pattern="grid">Rejilla</button>
                    <button class="pattern-btn" data-pattern="dots">Puntos</button>
                    <button class="pattern-btn" data-pattern="cross">Cruz</button>
                </div>

                <div>
                    <button id="pattern-reset" class="button">Restablecer</button>
                </div>
                <small class="control-note">Patr√≥n geom√©trico sobre el fondo, debajo de las estrellas.</small>
            </div>

            <div class="control-panel" id="balatro-panel">
                <h3>Efecto Balatro</h3>
                <div class="control-row">
                    <label for="balatro-toggle">Activo</label>
                    <input type="checkbox" id="balatro-toggle" />
                </div>
                <div class="control-row">
                    <label for="balatro-speed">Velocidad</label>
                    <input type="range" id="balatro-speed" min="0.1" max="2.0" step="0.1" value="0.5" />
                    <span id="balatro-speed-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="balatro-intensity">Intensidad</label>
                    <input type="range" id="balatro-intensity" min="0.5" max="2.0" step="0.1" value="1.0" />
                    <span id="balatro-intensity-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="balatro-distortion">Distorsi√≥n</label>
                    <input type="range" id="balatro-distortion" min="0" max="2.0" step="0.1" value="1.0" />
                    <span id="balatro-distortion-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="balatro-colorshift">Cambio Color</label>
                    <input type="range" id="balatro-colorshift" min="-1.0" max="2.0" step="0.1" value="0.0" />
                    <span id="balatro-colorshift-val" class="control-value"></span>
                </div>
                <div>
                    <button id="balatro-reset" class="button">Restablecer</button>
                </div>
                <small class="control-note">Efecto de plasma colorido tipo Balatro con ondas y distorsi√≥n.</small>
            </div>

            <div class="control-panel" id="crt-panel">
                <h3>Efecto TV Antigua (CRT)</h3>
                <div class="control-row">
                    <label for="crt-toggle">Activo</label>
                    <input type="checkbox" id="crt-toggle" />
                </div>
                <div class="control-row">
                    <label for="crt-scanlines">L√≠neas Escaneo</label>
                    <input type="range" id="crt-scanlines" min="0" max="1" step="0.01" value="0.5" />
                    <span id="crt-scanlines-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="crt-distortion">Distorsi√≥n</label>
                    <input type="range" id="crt-distortion" min="0" max="0.5" step="0.01" value="0.15" />
                    <span id="crt-distortion-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="crt-vignette">Vi√±eta</label>
                    <input type="range" id="crt-vignette" min="0" max="1" step="0.01" value="0.4" />
                    <span id="crt-vignette-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="crt-noise">Ruido</label>
                    <input type="range" id="crt-noise" min="0" max="0.3" step="0.01" value="0.08" />
                    <span id="crt-noise-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="crt-flicker">Parpadeo</label>
                    <input type="range" id="crt-flicker" min="0" max="0.15" step="0.01" value="0.03" />
                    <span id="crt-flicker-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="crt-rgbshift">Desplaz. RGB</label>
                    <input type="range" id="crt-rgbshift" min="0" max="0.01" step="0.0001" value="0.002" />
                    <span id="crt-rgbshift-val" class="control-value"></span>
                </div>
                <div class="control-row">
                    <label for="crt-brightness">Brillo</label>
                    <input type="range" id="crt-brightness" min="0.5" max="1.5" step="0.01" value="1.0" />
                    <span id="crt-brightness-val" class="control-value"></span>
                </div>
                <div>
                    <button id="crt-reset" class="button">Restablecer</button>
                </div>
                <small class="control-note">Simula un televisor antiguo con l√≠neas de escaneo, ruido y distorsi√≥n.</small>
            </div>
        </div>
    </div>
    <div class="main">
        <div id="pres-container" class="pres-container">
            <div class="title-logo">
                <img src="img/logo.png"/>
            </div>
            <div id="deck-container" class="deck-container">
            </div>
            
            <div class="promos-container">
                <!-- Bot√≥n de generador de fondos -->
                <div class="promo-section" id="bg-generator-section">
                    <button id="close-bg-generator" class="close-promo-btn">‚úï</button>
                    <button id="open-bg-generator" class="promo-btn">
                        üé® Generador de Fondos
                        <span class="beta-badge">BETA</span>
                    </button>
                    <p class="promo-note">Crea fondos personalizados con patrones de Pok√©mon</p>
                </div>

                <!-- Bot√≥n de web: Who Is This Pokemon? -->
                <div class="promo-section" id="witp-section">
                    <button id="close-witp" class="close-promo-btn">‚úï</button>
                    <button id="open-witp" class="promo-btn">
                        üé® Who is this pokemon?
                        <span class="beta-badge">BETA</span>
                    </button>
                    <p class="promo-note">¬øPodr√°s adivinar cual es este Pok√©mon?</p>
                </div>
            </div>
        </div>
    </div>
    <button id="mute-control" class="mute-button">üîá</button>
    <audio id="bg-music" loop preload="auto">
        <source src="audio/theme.ogg" type="audio/ogg">
    </audio>
    <script src="scripts/ui.js"></script>
    <script src="scripts/smoke-shader.js"></script>
    <script src="scripts/ink-shader.js"></script>
    <script src="scripts/stars-shader.js"></script>
    <script src="scripts/balatro-shader.js"></script>
    <script src="scripts/crt-shader.js"></script>
    <script src="scripts/pattern-bg-control.js"></script>
    <script src="scripts/bg-control.js"></script>
    <script src="scripts/cards.js"></script>
    <script src="scripts/session-storage.js"></script>
</body>
</html>