<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Cartas Stream</title>
    <link rel="stylesheet" href="styles/bg-generator.css">
    <script defer src="https://cloud.umami.is/script.js" data-website-id="58a7db19-b91d-48cf-b4ea-9ef0fd27a4c8"></script>
</head>
<body>
    <!-- Spinner de carga -->
    <div id="loading-spinner" class="spinner-overlay">
        <div class="spinner-container">
            <div class="spinner"></div>
            <p class="spinner-text">Generando fondo...</p>
        </div>
    </div>

    <button class="toggle-menu-btn" id="toggle-menu">‚ò∞ Configuraci√≥n</button>

    <div class="side-menu" id="side-menu">
        <button class="close-menu-btn" id="close-menu" aria-label="Cerrar men√∫">√ó</button>
        <h2>Configuraci√≥n</h2>
        
        <div class="menu-scrollable-content">
        <!-- Acorde√≥n 1: Fondo -->
        <div class="accordion">
            <button class="accordion-header">
                <span>üé® Fondo</span>
                <span class="accordion-icon">‚ñº</span>
            </button>
            <div class="accordion-content">
                <div class="menu-section">
                    <label>Tipo de Fondo:</label>
                    <select id="bg-type">
                        <option value="solid">S√≥lido</option>
                        <option value="gradient">Degradado</option>
                        <option value="pixel-art">Pixel Art</option>
                    </select>
                </div>
                <div class="menu-section" id="solid-color-section">
                    <label>Color:</label>
                    <div class="color-palette" id="solid-color-palette"></div>
                </div>
                <div class="menu-section hidden" id="gradient-section">
                    <label>Color 1:</label>
                    <div class="color-palette" id="gradient-color1-palette"></div>
                    <label>Color 2:</label>
                    <div class="color-palette" id="gradient-color2-palette"></div>
                </div>
                <div class="menu-section hidden" id="pixel-art-section">
                    <label>Color Base:</label>
                    <div class="color-palette" id="pixel-art-color-palette"></div>
                </div>
            </div>
        </div>

        <!-- Acorde√≥n 2: Patr√≥n -->
        <div class="accordion">
            <button class="accordion-header">
                <span>üìê Patr√≥n</span>
                <span class="accordion-icon">‚ñº</span>
            </button>
            <div class="accordion-content">
                <div class="menu-section">
                    <label for="pattern-type">Tipo de Patr√≥n:</label>
                    <select id="pattern-type">
                        <option value="grid">Cuadr√≠cula</option>
                        <option value="hexagon" selected>Hex√°gonos</option>
                        <option value="brick">Ladrillos</option>
                        <option value="diagonal">Diagonal</option>
                        <option value="wave">Ondas</option>
                        <option value="diamond">Diamantes</option>
                    </select>
                </div>
                <div class="menu-section">
                    <label>Tama√±o de Pok√©mons:</label>
                    <select id="size-mode">
                        <option value="fixed">Tama√±o Fijo</option>
                        <option value="range">Rango Variable</option>
                    </select>
                </div>
                <div class="menu-section" id="fixed-size-section">
                    <label for="image-size">Tama√±o: <span id="size-value">200</span>px</label>
                    <input type="range" id="image-size" min="20" max="400" value="200">
                </div>
                <div class="menu-section hidden" id="range-size-section">
                    <label for="size-min">Tama√±o M√≠nimo: <span id="size-min-value">200</span>px</label>
                    <input type="range" id="size-min" min="20" max="300" value="200">
                    <label for="size-max">Tama√±o M√°ximo: <span id="size-max-value">200</span>px</label>
                    <input type="range" id="size-max" min="20" max="400" value="200">
                </div>
                <div class="menu-section">
                    <label for="pokemon-density">Densidad: <span id="density-value">1.0</span></label>
                    <input type="range" id="pokemon-density" min="0.5" max="1.0" step="0.1" value="1.0">
                </div>
            </div>
        </div>

        <!-- Acorde√≥n 3: Contorno -->
        <div class="accordion">
            <button class="accordion-header">
                <span>üñåÔ∏è Contorno</span>
                <span class="accordion-icon">‚ñº</span>
            </button>
            <div class="accordion-content">
                <div class="menu-section">
                    <label>
                        <input type="checkbox" id="enable-border" checked>
                        Activar Contorno
                    </label>
                </div>
                <div class="menu-section" id="border-settings">
                    <label for="border-width">Grosor: <span id="border-width-value">3</span>%</label>
                    <input type="range" id="border-width" min="1" max="3" step="0.5" value="3">
                    
                    <label>Color del Contorno:</label>
                    <div style="margin: 8px 0;">
                        <label style="margin-right: 15px;">
                            <input type="radio" name="border-color" value="black">
                            Negro
                        </label>
                        <label>
                            <input type="radio" name="border-color" value="white" checked>
                            Blanco
                        </label>
                    </div>
                    
                    <label for="border-opacity">Opacidad: <span id="border-opacity-value">90</span>%</label>
                    <input type="range" id="border-opacity" min="0" max="100" step="5" value="90">
                </div>
                <div class="menu-section">
                    <label>
                        <input type="checkbox" id="silhouette-mode">
                        Mostrar Solo Silueta
                    </label>
                </div>
                <div class="menu-section hidden" id="silhouette-settings">
                    <label>Color de la Silueta:</label>
                    <div style="margin: 8px 0;">
                        <label style="margin-right: 10px;">
                            <input type="radio" name="silhouette-color" value="black" checked>
                            Negro
                        </label>
                        <label style="margin-right: 10px;">
                            <input type="radio" name="silhouette-color" value="white">
                            Blanco
                        </label>
                        <label>
                            <input type="radio" name="silhouette-color" value="transparent">
                            Transparente
                        </label>
                    </div>
                    <label for="silhouette-opacity">Opacidad: <span id="silhouette-opacity-value">100</span>%</label>
                    <input type="range" id="silhouette-opacity" min="0" max="100" step="5" value="100">
                </div>
            </div>
        </div>

        <!-- Acorde√≥n 4: Pok√©mons -->
        <div class="accordion">
            <button class="accordion-header">
                <span>‚ö° Pok√©mons & Tipos</span>
                <span class="accordion-icon">‚ñº</span>
            </button>
            <div class="accordion-content">
                <div class="menu-section">
                    <label>Contenido del Patr√≥n:</label>
                    <select id="pattern-content">
                        <option value="pokemon">Pok√©mons</option>
                        <option value="types">Tipos de Pok√©mon</option>
                    </select>
                </div>
                <div class="menu-section" id="pokemon-count-section">
                    <label for="pokemon-count">Pok√©mons Diferentes: <span id="pokemon-count-value">3</span></label>
                    <input type="range" id="pokemon-count" min="1" max="10" value="3">
                </div>
                <div class="menu-section" id="types-selection-section" style="display: none;">
                    <label>Seleccionar Tipos:</label>
                    <div class="types-grid" id="types-grid"></div>
                </div>
                <div class="menu-section" id="pokemon-mode-section">
                    <label>Modo de Selecci√≥n:</label>
                    <select id="pokemon-mode">
                        <option value="random">Aleatorios</option>
                        <option value="manual">Selecci√≥n Manual</option>
                    </select>
                </div>
                <div class="menu-section" id="manual-pokemon-section" style="display: none;">
                    <label>Buscar Pok√©mon:</label>
                    <div class="pokemon-search-wrapper">
                        <div class="pokemon-search-container">
                            <input type="text" id="pokemon-search" placeholder="Buscar por nombre..." autocomplete="off">
                            <button id="add-pokemon-btn" class="small-btn">A√±adir</button>
                        </div>
                        <div id="pokemon-suggestions-dropdown" class="suggestions-dropdown"></div>
                    </div>
                    <div id="selected-pokemon-list" class="pokemon-tag-list"></div>
                </div>
                <div class="menu-section" id="random-pokemon-section">
                    <label>Generaciones:</label>
                    <div class="gen-quick-actions">
                        <button class="gen-action-btn" data-action="all">Todas</button>
                        <button class="gen-action-btn" data-action="none">Ninguna</button>
                        <button class="gen-action-btn" data-action="classic">Cl√°sicas (1-4)</button>
                        <button class="gen-action-btn" data-action="modern">Modernas (5-9)</button>
                    </div>
                    <div class="gen-toggle-grid">
                        <button class="gen-toggle-btn active" data-gen="1">1</button>
                        <button class="gen-toggle-btn active" data-gen="2">2</button>
                        <button class="gen-toggle-btn active" data-gen="3">3</button>
                        <button class="gen-toggle-btn active" data-gen="4">4</button>
                        <button class="gen-toggle-btn active" data-gen="5">5</button>
                        <button class="gen-toggle-btn active" data-gen="6">6</button>
                        <button class="gen-toggle-btn active" data-gen="7">7</button>
                        <button class="gen-toggle-btn active" data-gen="8">8</button>
                        <button class="gen-toggle-btn active" data-gen="9">9</button>
                    </div>
                </div>
                <div class="menu-section" id="art-style-section">
                    <label>Estilo de Arte:</label>
                    <select id="art-style">
                        <option value="pixel-art">Pixel Art</option>
                        <option value="smooth" selected>Arte Oficial (Smooth)</option>
                        <option value="mystery-dungeon">Mundo Misterioso</option>
                    </select>
                </div>
                <div class="menu-section" id="allow-shiny-section">
                    <label>
                        <input type="checkbox" id="allow-shiny">
                        Permitir Shiny
                    </label>
                </div>
            </div>
        </div>

        <!-- Acorde√≥n 4: Dimensiones -->
        <div class="accordion">
            <button class="accordion-header">
                <span>üìè Dimensiones de Imagen</span>
                <span class="accordion-icon">‚ñº</span>
            </button>
            <div class="accordion-content">
                <div class="menu-section">
                    <label for="canvas-width">Ancho: <span id="width-value">1920</span>px</label>
                    <input type="number" id="canvas-width" min="400" max="7680" value="1920" step="10">
                </div>
                <div class="menu-section">
                    <label for="canvas-height">Alto: <span id="height-value">1080</span>px</label>
                    <input type="number" id="canvas-height" min="400" max="4320" value="1080" step="10">
                </div>
                <div class="menu-section">
                    <button id="preset-fullhd" class="preset-btn">Full HD (1920x1080)</button>
                    <button id="preset-4k" class="preset-btn">4K (3840x2160)</button>
                    <button id="preset-window" class="preset-btn">Tama√±o Ventana</button>
                </div>
            </div>
        </div>
        </div>
        
        <div class="action-buttons">
            <button id="regenerate" class="action-btn">Regenerar</button>
            <button id="download" class="action-btn">Descargar</button>
        </div>
    </div>

    <script src="scripts/pokemon-types.js"></script>
    <script src="scripts/pokemon-data.js"></script>
    <script src="scripts/bg-generator.js"></script>
</body>
</html>